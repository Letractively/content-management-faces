<!--
  ~ Copyright (c) 2011 Bill Reh.
  ~
  ~ This file is part of Content Management Faces.
  ~
  ~ Content Management Faces is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Lesser General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Lesser General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>
  -->

<!DOCTYPE HTML>
<html>
<head>
    <title>Prototype</title>
    <link rel="stylesheet" type="text/css"
          href="http://yui.yahooapis.com/2.8.2r1/build/treeview/assets/skins/sam/treeview.css"/>
    <link rel="stylesheet" type="text/css"
          href="http://yui.yahooapis.com/2.8.2r1/build/button/assets/skins/sam/button.css"/>
    <link rel="stylesheet" type="text/css" href="prototype.css"/>
    <script type="text/javascript"
            src="http://yui.yahooapis.com/2.8.2r1/build/yahoo-dom-event/yahoo-dom-event.js"></script>
    <script type="text/javascript" src="http://yui.yahooapis.com/2.8.2r1/build/treeview/treeview-min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
    <script type="text/javascript" src="../ckeditor/ckeditor.js"></script>
    <script type="text/javascript" src="../codeMirror/js/codemirror.js"></script>
    <script type="text/javascript" src="prototype.js"></script>
</head>
<body>

<form action="/prototype/prototype.html">
<table style="width: 100%; border-spacing: 10px;">
    <tr>
        <!-- Title -->
        <td colspan="2" style="text-align: center; padding: 10px;" class="tableCell">
            <div class="header">
                <div class="headerWord">Content</div>
                <div class="headerWord">Management</div>
                <div class="headerWord">Faces</div>
            </div>
        </td>
    </tr>

    <tr>
        <!-- Left pane -->
        <td class="tableCell leftPane">
            <button onclick="hideEditorAndShowNamespace(''); return false;" class="thePathButton">
                <img  src="images/folder_add.png"/>
                <span style="padding-left: 5px; padding-right: 5px;">Add Path</span>
            </button>
            <!-- Tree -->
            <div id="theTree">
                <ul> <li> <span class="namespaceNode">
                    net
                    <span class="node">
                        <input type="image" src="images/folder_add.png" onclick="return false;"/>
                        <input type="image" src="images/document_add.png" onclick="return false;"/>
                        <input type="image" src="images/file_add.png" onclick="return false;"/>
                    </span>
                </span>
                    <ul> <li> <span class="namespaceNode">
                        tralfamadore
                        <span class="node">
                            <input type="image" src="images/folder_add.png" onclick="return false;"/>
                            <input type="image" src="images/document_add.png" onclick="return false;"/>
                            <input type="image" src="images/file_add.png" onclick="return false;"/>
                        </span>
                    </span>
                        <ul> <li> <span class="namespaceNode">
                            site
                            <span class="node">
                                <input type="image" src="images/folder_add.png" onclick="return false;"/>
                                <input type="image" src="images/document_add.png" onclick="return false;"/>
                                <input type="image" src="images/file_add.png" onclick="return false;"/>
                            </span>
                        </span>
                            <ul> <li> <span class="namespaceNode">
                                page1
                                <span class="node">
                                    <input type="image" src="images/folder_add.png" alt="Add Folder" title="Add Folder"
                                           onclick="hideEditorAndShowNamespace('net.tralfamadore.site.page1'); return false;"/>
                                    <input type="image" src="images/document_add.png" alt="Add Content" title="Add Content"
                                           onclick="hideEditorAndShowContent('net.tralfamadore.site.page1'); return false;"/>
                                    <input type="image" src="images/file_add.png" alt="Add Style" title="Add Style"
                                           onclick="return false;"/>
                                </span>
                            </span>
                                <ul> <li> <span class="contentNode">
                                    header
                                    <span class="node">
                                        <input type="image" src="images/document_edit.png"
                                               onclick="insertHeader(); return false;"/>
                                        <input type="image" src="images/document_delete.png"
                                               onclick="removeNode(); return false;"/>
                                    </span>
                                </span>
                                </li> <li> <span class="contentNode">
                                    article
                                    <span class="node">
                                        <input type="image" src="images/document_edit.png"
                                               onclick="insertArticle(); return false;"/>
                                        <input type="image" src="images/document_delete.png"
                                               onclick="removeNode(); return false;"/>
                                    </span>
                                </span>
                                </li> <li> <span style="color: #accfff;">
                                    articleStyles
                                    <span class="node">
                                        <input type="image" src="images/file_edit.png"
                                               onclick="showCssEditor(); return false;"/>
                                        <input type="image" src="images/file_delete.png" onclick="removeNode(); return false;"/>
                                        <input type="image" src="images/direction_right.png"
                                               onclick="addArticleStyle(); return false;"/>
                                    </span>
                                </span>
                                </li> </ul>
                            </li>
                                <li>
                                    <span class="namespaceNode">
                                        page2
                                        <span class="node">
                                            <input type="image" src="images/folder_add.png" onclick="return false;"/>
                                            <input type="image" src="images/folder_delete.png" onclick="return false;"/>
                                            <input type="image" src="images/document_add.png" onclick="return false;"/>
                                            <input type="image" src="images/file_add.png" onclick="return false;"/>
                                        </span>
                                    </span>
                                </li>
                            </ul>
                        </li> </ul>
                    </li> </ul>
                </li> </ul>
            </div>
            <!-- end tree -->
        </td>

        <!-- Right pane -->
        <td style="vertical-align: top;" class="tableCell">

            <!-- Html Editor -->
            <div style="width: 800px; margin-top: 10px; margin-left: 10px; display: none;">
                <label for="ckCode"></label>
                <textarea id="ckCode" name="ckCode" style="display:none">
                    &lt;h1&gt;Header&lt;/h1&gt;
                </textarea>
                <div style="width: 100%;" id="styles">
                    <fieldset id="theStyles" style="border-radius: 10px;">
                        <legend>Styles</legend>
                        <button onclick="return false;" class="styleBubble">
                            <span style="padding-left: 5px; padding-right: 5px;">pageStyles</span>
                        </button>
                        <button onclick="return false;" class="styleBubble">
                            <span style="padding-left: 5px; padding-right: 5px;">siteStyles</span>
                        </button>
                    </fieldset>
                </div>
                <div style="width: 100%; text-align: right;">
                    <input id="submit" class="theButton" type="submit" value="Submit" onclick="return false;"
                           style="text-align: right; margin-top: 10px;"/>
                </div>
            </div>

            <!-- Namespace -->
            <div id="addNamespace" style="display: none; margin-left: 10px;">
                <fieldset class="namespaceFieldset">
                    <legend style="font-style: italic; font-weight: bold;">Add Path</legend>

                    <div>
                        <label for="namespace">Path: </label>
                        <label id="namespace" for="in" style="padding-right: 0; margin-right:0;"></label>
                        <input id="in" type="text" width="100px" style="padding-left: 0; margin-left:0;"/>
                        <input type="submit" class="theButton" value="Submit" onclick="addNode('in'); return false;"
                               style="text-align: right; margin-left: 20px;"/>
                    </div>
                </fieldset>
            </div>

            <!-- Content -->
            <div id="addContent" style="display: none;">
                <fieldset class="contentFieldset">
                    <legend>Add Content</legend>
                    <table>
                        <tr>
                            <td>
                                <table>
                                    <tr>
                                        <td>
                                            <label for="contentNamespace">Path: </label>
                                        </td>
                                        <td>
                                            <span id="contentNamespace"></span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <label for="content">Name: </label>
                                        </td>
                                        <td>
                                            <input id="content" type="text" style="width: 150px;"/>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                            <td style="margin-left: 20px; padding-left: 20px; vertical-align: bottom;">
                                <input type="submit" class="theButton" value="Submit" onclick="return false;"
                                       style="text-align: right;"/>
                            </td>
                        </tr>
                    </table>
                </fieldset>
            </div>

            <!-- Css Editor -->
            <div id="addCssEditor" style="display: none;">
                <div class="cssEditor">
                    <label for="cssEditor"></label><textarea id="cssEditor" cols="20" rows="5"></textarea>
                </div>
                <div style="width: 810px; text-align: right;">
                    <input type="submit" class="theButton" value="Submit" onclick="return false;"
                           style="text-align: right; margin-right: 0; margin-top: 10px;"/>
                </div>
            </div>

            <!-- Js Editor -->
            <div id="addScriptEditor" style="display: none;">
                <div style="border: black solid 1px; width: 800px;">
                    <label for="scriptEditor"></label><textarea id="scriptEditor" cols="20" rows="5"></textarea>
                </div>
                <div style="width: 800px; text-align: right;">
                    <input type="submit" class="theButton" value="Submit" onclick="return false;" style="text-align: right;"/>
                </div>
            </div>


            <!-- Embedded db setup -->
            <div style="margin: 10px; display: none;">
                <div style="text-align: center; font-size: 24pt; font-weight: bold;">Embedded Database Properties</div>
                <p style="text-indent: 30px;">
                    You're running the derby embedded database.  Currently, it's running in memory mode, which means
                    you'll lose your changes the next time you shutdown/restart/redeploy your app.  If you're using
                    this for testing or development purposes, this may be fine, otherwise you'll probably want derby to
                    run in directory mode and persist the information into the directory you set up below:
                </p>
                <fieldset class="contentFieldset" style=" width: 500px; height: 150px; margin: 0; position: relative; left: 15%;">
                    <legend style="text-align: center;">Derby Data Directory</legend>
                    <table>
                        <tr>
                            <td>
                                <table>
                                    <tr>
                                        <td>
                                            <label for="derbyPath">Directory Path: </label>
                                        </td>
                                        <td>
                                            <input id="derbyPath" type="text" style="width: 250px;"/>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                            <td style="margin-left: 20px; padding-left: 20px; vertical-align: bottom;">
                                <input type="submit" class="theButton" value="Submit" onclick="return false;"
                                       style="text-align: right;"/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="text-align: center; line-height: 80%;">
                                <p style="font-size: small;">
                                    * Please enter valid a file system path.  The directory will be created if it does not
                                    already exist (the parent directory must exist).  Derby will put about a half dozen
                                    files in this directory.
                                </p>
                            </td>
                        </tr>
                    </table>
                </fieldset>
                <p style="text-indent: 30px;">
                    If you'd like to hook Content Management Faces up to a jdbc data source (postgres, mysql, oracle,
                    etc), please edit the cmf-config file and redeploy your app.
                </p>
            </div>

            <div style="margin: 10px;">
                <div style="text-align: center; font-size: 24pt; font-weight: bold;">Success!</div>
                <p style="text-indent: 30px; text-align: center; margin-top: 30px;">
                    Your database is configured.  All data will be written to /Users/billreh/theDb/
                </p>
            </div>
        </td>
    </tr>
</table>
</form>

</body>
</html>