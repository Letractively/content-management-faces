<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (c) 2011 Bill Reh.
  ~
  ~ This file is part of Content Management Faces.
  ~
  ~ Content Management Faces is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Lesser General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Lesser General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>
  -->

<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.prime.com.tr/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xml:lang="en" lang="en">
<h:head>
    <title>Content Management Faces</title>
    <link type="text/css" rel="stylesheet" href="../st-marie-fontfacekit/stylesheet.css" charset="utf-8"/>
    <script type="text/javascript" src="../ckeditor/ckeditor_source.js"></script>
    <h:outputScript library="cmf/CodeMirror-0.94/js" name="codemirror.js"/>
    <script type="text/javascript">
        function showCPanel(xhr, status, args) {
            hideCurrentPanel();
            currentPanel = jQuery(contentClientId);
            currentPanel.show();
            if(theEditor != null) {
                CKEDITOR.remove(theEditor);
                theEditor = null;
            }
            try {
                var css = null;
                if(args != null) {
                    css = args.css;
                }

                var editorId = jQuery(editorClientId);
                var ed = editorId.get();
                ed = ed[0];
                CKEDITOR.on('instanceCreated', function(e) {
                    var editor = e.editor;
                    editor._.styles = [];
                    editor.addCss(css);
                });
                theEditor = CKEDITOR.replace(ed, {
                    toolbar : 'Cmf'
                });
            } catch(err) {
                alert(err);
            }
        }
    </script>
    <style type="text/css">
        p {
            text-indent: 24px;
        }

        .CodeMirror-line-numbers {
            width: 35px;
            color: #aaa;
            background-color: #eee;
            text-align: right;
            padding-right: .3em;
            font-size: 10pt;
            font-family: monospace;
            padding-top: .4em;
            line-height: normal;
            -moz-border-top-left-radius: 10px;
            -webkit-border-top-left-radius: 10px;
            border-top-left-radius: 10px;
            border-bottom-left-radius: 10px;
            -moz-border-bottom-left-radius: 10px;
            -webkit-border-bottom-left-radius: 10px;
        }
        .removeButton {

        }
        .treeNodeButton {
            height: 21px;
            width: 21px;
            vertical-align: bottom;
            display: none;
        }
        .add {
            background-image: url('../admin/images/folder_add.png') !important;
        }
        .edit {
            background-image: url('../admin/images/folder_edit.png') !important;
        }
        .delete {
            background-image: url('../admin/images/folder_delete.png') !important;
        }
        .addContent {
            background-image: url('../admin/images/document_add.png') !important;
        }
        .editContent {
            background-image: url('../admin/images/document_edit.png') !important;
        }
        .deleteContent {
            background-image: url('../admin/images/document_delete.png') !important;
        }
        .addStyle {
            background-image: url('../admin/images/file_add.png') !important;
        }
        .editStyle {
            background-image: url('../admin/images/file_edit.png') !important;
        }
        .deleteStyle {
            background-image: url('../admin/images/file_delete.png') !important;
        }
        .applyStyle {
            background-image: url('../admin/images/direction_right.png') !important;
        }
        .removeStyle {
            background-image: url('../admin/images/style_delete.png') !important;
        }
        .ui-widget-content {
            border-radius: 7px;
            -webkit-border-radius: 7px;
            -moz-border-radius: 7px;
        }
        .ui-fieldset {
            min-height: 42px;
        }
        .ui-growl {
            left: 400px;
            top: 150px;
            width: 650px;
        }
        .ui-growl-message {
            width: 600px;
        }
        .ui-layout-bd {
            height: 100px;
            background: -moz-linear-gradient(100% 100% 180deg, rgba(174,208,234,0.1), rgba(215,235,249,0.1));
            background: -webkit-gradient(linear, left top, right top, to(rgba(174,208,234,0.1)), from(rgba(215,235,249,0.1)));
        }
        h1 {
            font: 60px/68px 'StMarieThin', Arial, sans-serif;
            letter-spacing: 0;
            position: relative;
            top: -22px;
            text-shadow: #333 2px 2px 2px;
            font-weight: bolder;
        }
    </style>
</h:head>
<h:body>
    <f:view contentType="text/html">
        <p:ajaxStatus style="width:16px;height:16px;">
            <f:facet name="start">
                <h:graphicImage library="primefaces" name="jquery/ui/ui-anim_basic_16x16.gif"/>
            </f:facet>

            <f:facet name="complete">
                <h:outputText value="" />
            </f:facet>
        </p:ajaxStatus>

        <p:layout fullPage="true" id="theLayout">
            <p:layoutUnit position="top" height="120">
                <div style="text-align: center; vertical-align:middle;">
                    <h1>Content Management Faces</h1>
                </div>
            </p:layoutUnit>
            <p:layoutUnit position="left" width="350" resizable="true" scrollable="true">
                <div style="margin: 10px;">
                    <ui:include src="tree.xhtml"/>
                </div>
            </p:layoutUnit>
            <p:layoutUnit position="center" scrollable="true">
                <div style="margin: 10px;">
                    <ui:include src="mainPanel.xhtml"/>
                </div>
            </p:layoutUnit>
        </p:layout>
    </f:view>
</h:body>
</html>